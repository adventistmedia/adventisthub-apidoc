# Activity

A contacts activities.

## Fields

Field | Description | Notes
----- | ----------- | -----
activity_type<br> *enum* {visit, call, email, sms, baptism, bible_study, event_attendance} | Type of activity | Required
user_id<br> *integer* | ID of user who created the activity | Read-only
team_id<br> *integer* | ID of team the activity was associated to | Read-only
occurred_at<br> *datetime* | Time the activity occurred | Required
subject<br> *string* | A title or suject related to the activity type
description<br> *text* | A description related to the activity type
autogenerated<br> *boolean* | Auto-generated activities are automatically created based on another action | Read-only
study_id<br> *integer* | ID of the study the activity belongs too | *Required
event_id<br> *integer* | ID of the event the activity belongs too
approach_id<br>*integer* | ID of the approach the activity belongs too
brand_id<br>*integer* | ID of the brand the activity belongs too
campaign_id<br>*integer* | ID of the campaign the activity belongs too
category_id<br>*integer* | ID of the category the activity belongs too
contact_id<br> *integer* | ID of contact | Read-only
created_at<br> *datetime* | When the activity was created | Read-only
updated_at<br> *datetime* | When the activity was last updated | Read-only

\* study_id is required only when the activity type is a bible_study

## List Activities
```shell
curl https://api.adventisthub.com/api/contacts/17/activities
-H "Authorization: Bearer token"
-H "Accept: application/vnd.adventisthub.v1+json"
```
```json
{
  "data": [
    {
      "id": "34",
      "type": "activities",
      "attributes": {
        "activity_type": "baptism",
        "contact_id": 17,
        "user_id": 5,
        "team_id": 6,
        "category_id": null,
        "campaign_id": null,
        "brand_id": null,
        "approach_id": null,
        "occurred_at": "2016-11-29T11:30:00.000+11:00",
        "event_id": null,
        "subject": null,
        "description": "",
        "created_at": "2016-11-29T11:40:14.338+11:00",
        "updated_at": "2016-11-29T11:40:14.338+11:00",
        "autogenerated": false,
        "study_id": null
      },
      "links": {
        "self": "/api/contacts/17/activities/34"
      }
    },
    {
      "id": "33",
      "type": "activities",
      "attributes": {
        "activity_type": "bible_study",
        "contact_id": 17,
        "user_id": 5,
        "team_id": 6,
        "category_id": null,
        "campaign_id": null,
        "brand_id": null,
        "approach_id": null,
        "occurred_at": "2016-11-28T11:30:00.000+11:00",
        "event_id": null,
        "subject": null,
        "description": "",
        "created_at": "2016-11-29T11:39:13.553+11:00",
        "updated_at": "2016-11-29T11:40:25.417+11:00",
        "autogenerated": false,
        "study_id": 16
      },
      "links": {
        "self": "/api/contacts/17/activities/33"
      }
    },
    {
      "id": "32",
      "type": "activities",
      "attributes": {
        "activity_type": "visit",
        "contact_id": 17,
        "user_id": 5,
        "team_id": 6,
        "category_id": null,
        "campaign_id": null,
        "brand_id": null,
        "approach_id": null,
        "occurred_at": "2016-11-25T11:30:00.000+11:00",
        "event_id": null,
        "subject": null,
        "description": "Discussed their thoughts on a healthy lifestyle",
        "created_at": "2016-11-29T11:38:54.918+11:00",
        "updated_at": "2016-11-29T11:40:32.667+11:00",
        "autogenerated": false,
        "study_id": null
      },
      "links": {
        "self": "/api/contacts/17/activities/32"
      }
    }
    {
      "id": "39",
      "type": "activities",
      "attributes": {
        "activity_type": "event_attendance",
        "contact_id": 17,
        "user_id": null,
        "team_id": 6,
        "category_id": 6,
        "campaign_id": null,
        "brand_id": null,
        "approach_id": null,
        "occurred_at": "2016-11-17T08:00:00.000+11:00",
        "event_id": null,
        "subject": "Desmond Dose Doco",
        "description": "Attended the event Desmond Dose Doco",
        "created_at": "2016-12-01T11:08:21.220+11:00",
        "updated_at": "2016-12-01T11:08:21.220+11:00",
        "autogenerated": true,
        "study_id": null
      },
      "links": {
        "self": "/api/contacts/17/activities/39"
      }
    }
  ]
}
```

`GET /api/contacts/{contact-id}/activities`

An array of all activities for the contact.

## Show activity
```shell
curl https://api.adventisthub.com/api/contacts/17/activities/34
-H "Authorization: Bearer token"
-H "Accept: application/vnd.adventisthub.v1+json"
```
```json
{
  "id": "34",
  "type": "activities",
  "attributes": {
    "activity_type": "baptism",
    "contact_id": 17,
    "user_id": 5,
    "team_id": 6,
    "category_id": null,
    "campaign_id": null,
    "brand_id": null,
    "approach_id": null,
    "occurred_at": "2016-11-29T11:30:00.000+11:00",
    "event_id": null,
    "subject": null,
    "description": "",
    "created_at": "2016-11-29T11:40:14.338+11:00",
    "updated_at": "2016-11-29T11:40:14.338+11:00",
    "autogenerated": false,
    "study_id": null
  },
  "links": {
    "self": "/api/contacts/17/activities/34"
  }
}
```

`GET /api/contacts/{contact-id}/activities/{activity-id}`

Show a contacts activity.

## Create Activity
```shell
curl -X POST https://api.adventisthub.com/api/contacts/17/activities
-H "Authorization: Bearer token"
-H "Content-type: application/json"
-H "Accept: application/vnd.adventisthub.v1+json"
-d '{"activity": {"occurred_at": "2017-01-01T09:00:00", "activity_type": "visit"}}'
```
```json
{
  "data": {
    "id": "77",
    "type": "activities",
    "attributes": {
      "activity_type": "visit",
      "contact_id": 17,
      "user_id": 5,
      "team_id": 6,
      "category_id": null,
      "campaign_id": null,
      "brand_id": null,
      "approach_id": null,
      "occurred_at": "2017-01-01T20:00:00.000+11:00",
      "event_id": null,
      "subject": null,
      "description": null,
      "created_at": "2017-01-16T15:41:02.069+11:00",
      "updated_at": "2017-01-16T15:41:02.069+11:00",
      "autogenerated": false,
      "study_id": null
    },
    "links": {
      "self": "/api/contacts/17/activities/77"
    }
  }
}
```

`POST /api/contacts/{contact-id}/activities`

Activities can only be created for the activity type's: visit, call, baptism, bible_study

## Update activity
```shell
curl -X PATCH https://api.adventisthub.com/api/contacts/17/activities/77
-H "Authorization: Bearer token"
-H "Content-type: application/json"
-H "Accept: application/vnd.adventisthub.v1+json"
-d '{"activity": {"description": "Really enjoyed visit"}}'
```
```json
{
  "data": {
    "id": "77",
    "type": "activities",
    "attributes": {
      "activity_type": "visit",
      "contact_id": 17,
      "user_id": 5,
      "team_id": 6,
      "category_id": null,
      "campaign_id": null,
      "brand_id": null,
      "approach_id": null,
      "occurred_at": "2017-01-01T20:00:00.000+11:00",
      "event_id": null,
      "subject": null,
      "description": "Really enjoyed visit",
      "created_at": "2017-01-16T15:41:02.069+11:00",
      "updated_at": "2017-01-16T15:44:22.828+11:00",
      "autogenerated": false,
      "study_id": null
    },
    "links": {
      "self": "/api/contacts/17/activities/77"
    }
  }
}
```

`PATCH /api/contacts/{contact-id}/activities/{activity-id}`
Update activities that are not auto-generated.

## Delete activity
```shell
curl -X DELETE https://api.adventisthub.com/api/contacts/17/activities/77
-H "Authorization: Bearer token"
-H "Accept: application/vnd.adventisthub.v1+json"
```
```json
{
  "data": {
    "id": "77",
    "type": "activities",
    "attributes": {
      "activity_type": "visit",
      "contact_id": 17,
      "user_id": 5,
      "team_id": 6,
      "category_id": null,
      "campaign_id": null,
      "brand_id": null,
      "approach_id": null,
      "occurred_at": "2017-01-01T20:00:00.000+11:00",
      "event_id": null,
      "subject": null,
      "description": "Really enjoyed visit",
      "created_at": "2017-01-16T15:41:02.069+11:00",
      "updated_at": "2017-01-16T15:44:22.828+11:00",
      "autogenerated": false,
      "study_id": null
    },
    "links": {
      "self": "/api/contacts/17/activities/77"
    }
  }
}
```

`DELETE /api/contacts/{contact-id}/activities/{activity-id}`

Delete activities that are not auto-generated.